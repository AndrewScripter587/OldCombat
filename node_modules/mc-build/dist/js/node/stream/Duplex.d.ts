import {Chunk} from "./Writable"

/**
Passed to both `Writable` and `Readable` constructors. Also has the following fields:

@see https://nodejs.org/api/stream.html#stream_new_stream_duplex_options
*/
export type DuplexNewOptions = {
	/**
	If set to `false`, then the stream will automatically end the writable side when the readable side ends. Default: `true`.
	*/
	allowHalfOpen?: null | boolean, 
	/**
	Whether this stream should automatically call `.destroy()` on itself after ending.
	Default: `false`.
	*/
	autoDestroy?: null | boolean, 
	/**
	`decodeStrings` <boolean> Whether to encode `string`s passed to stream.write() to `Buffer`s (with the encoding specified in the stream.write() call) before passing them to stream._write().
	Other types of data are not converted (i.e. `Buffer`s are not decoded into `string`s). Setting to false will prevent strings from being converted.
	Default: `true`.
	*/
	decodeStrings?: null | boolean, 
	/**
	`defaultEncoding` <string> The default encoding that is used when no encoding is specified as an argument to stream.write().
	Default: `'utf8'`.
	*/
	defaultEncoding?: null | string, 
	/**
	Implementation for the `stream._destroy()` method.
	*/
	destroy?: null | ((err: null | Error, callback: ((arg0: null | Error) => void)) => void), 
	/**
	Whether or not the stream should emit `'close'` after it has been destroyed.
	Default: `true`.
	*/
	emitClose?: null | boolean, 
	/**
	If specified, then buffers will be decoded to strings using the specified encoding.
	Default: `null`.
	*/
	encoding?: null | string, 
	/**
	`final` <Function> Implementation for the stream._final() method.
	*/
	final_?: null | ((error: null | Error) => void), 
	/**
	The maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.
	Default: `16384` (16kb), or `16` for `objectMode` streams.
	*/
	highWaterMark?: null | number, 
	/**
	Whether this stream should behave as a stream of objects.
	Meaning that `stream.read(n)` returns a single value instead of a `Buffer` of size `n`.
	Default: `false`.
	*/
	objectMode?: null | boolean, 
	/**
	Implementation for the `stream._read()` method.
	*/
	read?: null | ((size: number) => void), 
	/**
	Sets `highWaterMark` for the readable side of the stream. Has no effect if `highWaterMark` is provided.
	*/
	readableHighWaterMark?: null | number, 
	/**
	Sets `objectMode` for readable side of the stream. Has no effect if `objectMode` is `true`. Default: `false`.
	*/
	readableObjectMode?: null | boolean, 
	/**
	Sets `highWaterMark` for the writable side of the stream. Has no effect if `highWaterMark` is provided.
	*/
	writableHighWaterMark?: null | number, 
	/**
	Sets `objectMode` for writable side of the stream. Has no effect if `objectMode` is `true`. Default: `false`.
	*/
	writableObjectMode?: null | boolean, 
	/**
	`write` <Function> Implementation for the stream._write() method.
	*/
	write?: null | ((chunk: any, encoding: string, callback: ((arg0: null | Error) => void)) => void), 
	/**
	`writev` <Function> Implementation for the stream._writev() method.
	*/
	writev?: null | ((chunks: Chunk[], callback: ((arg0: null | Error) => void)) => void)
}
