import {Base64} from "./crypto/Base64.js"
import {Register} from "../genes/Register.js"

const $global = Register.$global

/**
Resource can be used to access resources that were added through the
`--resource file@name` command line parameter.

Depending on their type they can be obtained as `String` through
`getString(name)`, or as binary data through `getBytes(name)`.

A list of all available resource names can be obtained from `listNames()`.
*/
export const Resource = Register.global("$hxClasses")["haxe.Resource"] = 
class Resource {
	
	/**
	Retrieves the resource identified by `name` as a `String`.
	
	If `name` does not match any resource name, `null` is returned.
	*/
	static getString(name) {
		let _g = 0;
		let _g1 = Resource.content;
		while (_g < _g1.length) {
			let x = _g1[_g];
			++_g;
			if (x.name == name) {
				if (x.str != null) {
					return x.str;
				};
				let b = Base64.decode(x.data);
				return b.toString();
			};
		};
		return null;
	}
	static get __name__() {
		return "haxe.Resource"
	}
	get __class__() {
		return Resource
	}
}


;Resource.content = [{ name : "io-worker", data : "dmFyIGk9cmVxdWlyZSgid29ya2VyX3RocmVhZHMiKSx0PXJlcXVpcmUoImZzIiksYT1yZXF1aXJlKCJwYXRoIiksbj1uZXcgTWFwO2Z1bmN0aW9uIHAocyxvKXtsZXQgcj0oMCxhLnBhcnNlKShzKS5kaXI7bi5oYXMocil8fCgoMCx0Lm1rZGlyU3luYykocix7cmVjdXJzaXZlOiEwfSksbi5zZXQociwhMCkpLCgwLHQud3JpdGVGaWxlU3luYykocyxvKX1pLnBhcmVudFBvcnQub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKG8pe3RyeXtvLm1hcCgoe3A6ZSxjOnJ9KT0+cChlLHIpKSxpLnBhcmVudFBvcnQucG9zdE1lc3NhZ2UoMSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX19KTsK"}]
