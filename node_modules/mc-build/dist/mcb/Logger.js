import {Register} from "../genes/Register.js"
import * as Chalk from "chalk"
import {Std} from "../Std.js"

const $global = Register.$global

export const Logger = Register.global("$hxClasses")["mcb.Logger"] = 
class Logger {
	static log(msg) {
		if (Logger.enabled) {
			let v = Logger.prefix + Logger.chalk.white(msg);
			process.stdout.write(Std.string(v));
			process.stdout.write("\n");
		};
	}
	static error(msg) {
		if (Logger.enabled) {
			let v = Logger.prefix + Logger.chalk.redBright(msg);
			process.stdout.write(Std.string(v));
			process.stdout.write("\n");
		};
	}
	static warn(msg) {
		if (Logger.enabled) {
			let v = Logger.prefix + Logger.chalk.yellow(msg);
			process.stdout.write(Std.string(v));
			process.stdout.write("\n");
		};
	}
	static get __name__() {
		return "mcb.Logger"
	}
	get __class__() {
		return Logger
	}
}


Logger.enabled = true
Logger.chalk = Chalk["default"]
Logger.prefix = Logger.chalk.gray("[") + Logger.chalk.green("MCB") + Logger.chalk.gray("] ")