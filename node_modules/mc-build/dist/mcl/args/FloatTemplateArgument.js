import {TemplateArgument} from "./TemplateArgument.js"
import {Register} from "../../genes/Register.js"

const $global = Register.$global

export const FloatTemplateArgument = Register.global("$hxClasses")["mcl.args.FloatTemplateArgument"] = 
class FloatTemplateArgument extends Register.inherits(TemplateArgument) {
	new(s, pos) {
		super.new(s, pos);
	}
	parseValue(value, pos, ctx) {
		let spaceIdx = value.indexOf(" ");
		if (spaceIdx != -1) {
			value = value.substring(0, spaceIdx);
		};
		let intValue = parseFloat(value);
		if (intValue == null) {
			return {"success": false};
		};
		return {"success": true, "value": intValue, "raw": value};
	}
	static register() {
		TemplateArgument.register("float", FloatTemplateArgument);
	}
	static get __name__() {
		return "mcl.args.FloatTemplateArgument"
	}
	static get __super__() {
		return TemplateArgument
	}
	get __class__() {
		return FloatTemplateArgument
	}
}

