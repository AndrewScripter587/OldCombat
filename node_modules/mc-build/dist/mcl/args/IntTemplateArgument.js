import {TemplateArgument} from "./TemplateArgument.js"
import {Register} from "../../genes/Register.js"
import {Std} from "../../Std.js"

const $global = Register.$global

export const IntTemplateArgument = Register.global("$hxClasses")["mcl.args.IntTemplateArgument"] = 
class IntTemplateArgument extends Register.inherits(TemplateArgument) {
	new(s, pos) {
		super.new(s, pos);
	}
	parseValue(value, pos, ctx) {
		let spaceIdx = value.indexOf(" ");
		if (spaceIdx != -1) {
			value = value.substring(0, spaceIdx);
		};
		let intValue = Std.parseInt(value);
		if (intValue == null) {
			return {"success": false};
		};
		return {"success": true, "value": intValue, "raw": value};
	}
	static register() {
		TemplateArgument.register("int", IntTemplateArgument);
	}
	static get __name__() {
		return "mcl.args.IntTemplateArgument"
	}
	static get __super__() {
		return TemplateArgument
	}
	get __class__() {
		return IntTemplateArgument
	}
}

