import {TemplateArgument} from "./TemplateArgument.js"
import {Register} from "../../genes/Register.js"
import {HxOverrides} from "../../HxOverrides.js"

const $global = Register.$global

export const WordTemplateArgument = Register.global("$hxClasses")["mcl.args.WordTemplateArgument"] = 
class WordTemplateArgument extends Register.inherits(TemplateArgument) {
	new(s, pos) {
		super.new(s, pos);
	}
	parseValue(value, pos, ctx) {
		if (value == "") {
			return {"success": false};
		};
		let split = value.indexOf(" ");
		let res = (split == -1) ? value : HxOverrides.substr(value, 0, split);
		return {"success": true, "value": res, "raw": res};
	}
	static register() {
		TemplateArgument.register("word", WordTemplateArgument);
	}
	static get __name__() {
		return "mcl.args.WordTemplateArgument"
	}
	static get __super__() {
		return TemplateArgument
	}
	get __class__() {
		return WordTemplateArgument
	}
}

