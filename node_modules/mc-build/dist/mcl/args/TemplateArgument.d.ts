import {PosInfo} from "../Tokenizer"
import {CompilerContext} from "../Compiler"
import {AstNode} from "../AstNode"
import {IntMap} from "../../haxe/ds/IntMap"
import {IMap} from "../../haxe/Constraints"

export declare class TemplateArgument {
	protected constructor(s: string, pos: PosInfo)
	name: string
	pos: PosInfo
	expectBlock: boolean
	expectJsValue: boolean
	parseValue(s: string, p: PosInfo, context: CompilerContext): TemplateParseResult
	parseValueBlock(s: AstNode, p: PosInfo, context: CompilerContext): TemplateParseResult
	static jsCache: IntMap<any>
	static jsCacheIdx: number
	static argumentTypes: IMap<string, any>
	static parse(s: string, p: PosInfo): TemplateArgument
	static register(type: string, c: any): void
}

export type TemplateParseResult = {
	raw?: null | string, 
	success: boolean, 
	value?: null | any
}
